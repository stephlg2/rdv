(()=>{"use strict";var e,t={310:(e,t,r)=>{const n=window.wp.blocks,o=window.wp.element,a=window.wp.i18n,l=JSON.parse('{"UU":"tripzzy/trip-taxonomies","DD":"Tripzzy Trip Taxonomies","Kk":"<svg xmlns=\'http://www.w3.org/2000/svg\' fill=\'none\' viewBox=\'0 0 24 24\'><path fill=\'#3EB368\' fill-rule=\'evenodd\' d=\'M3 2a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H3Zm1 7V4h5v5H4Zm13.5-7a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9ZM20 6.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM13 14a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-7Zm-6.5-1a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9ZM9 17.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm6-2.5v5h5v-5h-5Z\' clip-rule=\'evenodd\'/></svg>","h_":"List all Trip Taxonomy terms.","uK":{"blockId":{"type":"string","default":""},"textAlign":{"type":"string","default":"center"},"query":{"type":"object","default":{"numberOfItems":4,"orderBy":"name","order":"asc","taxonomy":"tripzzy_trip_destination"}},"gap":{"type":"string","default":"20px"},"itemHeight":{"type":"string","default":"300px"},"itemWidth":{"type":"string","default":"320px"},"showCount":{"type":"boolean","default":true},"showOverlay":{"type":"boolean","default":true},"showShineOverlay":{"type":"boolean","default":true},"overlayColor":{"type":"string","default":"rgba(0, 0, 0, 0.4)"},"titlePosition":{"type":"string","default":"bottom"},"col":{"type":"number","default":3}}}'),i=window.wp.apiFetch;var c=r.n(i);const u=window.wp.blockEditor,s=window.wp.components,p={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let y;const m=new Uint8Array(16);function f(){if(!y&&(y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(m)}const b=[];for(let e=0;e<256;++e)b.push((e+256).toString(16).slice(1));const g=function(e,t,r){if(p.randomUUID&&!t&&!e)return p.randomUUID();const n=(e=e||{}).random||(e.rng||f)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return b[e[t+0]]+b[e[t+1]]+b[e[t+2]]+b[e[t+3]]+"-"+b[e[t+4]]+b[e[t+5]]+"-"+b[e[t+6]]+b[e[t+7]]+"-"+b[e[t+8]]+b[e[t+9]]+"-"+b[e[t+10]]+b[e[t+11]]+b[e[t+12]]+b[e[t+13]]+b[e[t+14]]+b[e[t+15]]}(n)},v=function(e){var t=e||{},r=t.attributes,n=t.setAttributes,a=t.BlockStyles,l=t.BlockSettings;return React.createElement(o.Fragment,null,l&&React.createElement(l,{attributes:r,setAttributes:n}),a&&React.createElement(a,e))};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,l,i=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const S=function(e){var t=e.attributes,r=e.setAttributes,n=t.gap,l=(t.itemWidth,t.itemHeight),i=t.showCount,c=t.showOverlay,p=t.showShineOverlay,y=t.titlePosition,m=t.col,f=w((0,o.useState)(t.query.taxonomy),2),b=f[0],g=f[1],v=w((0,o.useState)(t.query.numberOfItems),2),d=v[0],h=v[1],O=w((0,o.useState)(t.query.orderBy),2),_=O[0],S=O[1],E=w((0,o.useState)(t.query.order),2),C=E[0],R=E[1];return React.createElement(o.Fragment,null,React.createElement(u.InspectorControls,{group:"settings"},React.createElement(s.PanelBody,{title:(0,a.__)("Taxonomy Options")},React.createElement(s.SelectControl,{label:"Select Taxonomy",options:[{label:"Trip Destination",value:"tripzzy_trip_destination"},{label:"Trip Types",value:"tripzzy_trip_type"},{label:"Trip Activities",value:"tripzzy_trip_activities"}],value:b,onChange:function(e){g(e),r({query:z(z({},t.query),{},{taxonomy:e})})}}),React.createElement(s.QueryControls,{numberOfItems:d,onNumberOfItemsChange:function(e){h(e),r({query:z(z({},t.query),{},{numberOfItems:e})})}}),React.createElement(s.SelectControl,{label:"Order By",options:[{label:"Name",value:"name"},{label:"ID",value:"id"},{label:"Count",value:"count"}],value:_,onChange:function(e){S(e),r({query:z(z({},t.query),{},{orderBy:e})})}}),React.createElement(s.SelectControl,{label:"Order",options:[{label:"Asc",value:"asc"},{label:"Desc",value:"desc"}],value:C,onChange:function(e){R(e),r({query:z(z({},t.query),{},{order:e})})}})),React.createElement(s.PanelBody,{title:(0,a.__)("Display Settings")},React.createElement(s.TextControl,{type:"number",label:(0,a.__)("Column","tripzzy"),value:m,onChange:function(e){return r({col:e})},help:(0,a.__)("Display ".concat(m," item/s in a row."),"tripzzy")}),React.createElement(s.SelectControl,{label:(0,a.__)("Title Position","tripzzy"),options:[{label:(0,a.__)("Above Image","tripzzy"),value:"above"},{label:(0,a.__)("Top","tripzzy"),value:"top"},{label:(0,a.__)("Middle","tripzzy"),value:"middle"},{label:(0,a.__)("Bottom","tripzzy"),value:"bottom"},{label:(0,a.__)("Below Image","tripzzy"),value:"below"}],value:y,onChange:function(e){r({titlePosition:e})}}),React.createElement(s.__experimentalUnitControl,{min:"0",step:"1",label:(0,a.__)("Gap","tripzzy"),labelPosition:"top",onChange:function(e){r({gap:e})},value:n,units:{px:"px"}}),React.createElement(s.__experimentalUnitControl,{min:"0",step:"1",label:(0,a.__)("Item Height","tripzzy"),labelPosition:"top",onChange:function(e){r({itemHeight:e})},value:l,units:{px:"px"}}),React.createElement(s.ToggleControl,{label:(0,a.__)("Show Count","tripzzy"),value:i,onChange:function(){return r({showCount:!i})},checked:i}),React.createElement(s.ToggleControl,{label:(0,a.__)("Show Shine Overlay","tripzzy"),value:p,onChange:function(){return r({showShineOverlay:!p})},checked:p}),React.createElement(s.ToggleControl,{label:(0,a.__)("Show Overlay","tripzzy"),value:c,onChange:function(){return r({showOverlay:!c})},checked:c,help:c&&(0,a.__)("Manage Overlay color from styles tab.","tripzzy")}))))};function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(null,arguments)}wp.i18n.__;const C=(0,u.withColors)({tzPaletteColor:"tz-palette-color"})((function(e){var t=e.label,r=e.value,n=e.setTzPaletteColor,o=e.clientId,a=e.enableAlpha,l=e.onChange,i=(e.className,(0,u.__experimentalUseMultipleOriginColorsAndGradients)()),c=React.createElement(u.__experimentalColorGradientSettingsDropdown,E({settings:[{label:null!=t?t:"",colorValue:r||null,onColorChange:function(e){n(e),l(e)},resetAllFilter:function(e){n(null),l(null)}}],panelId:o,hasColorsOrGradients:!0,disableCustomColors:!1,__experimentalIsRenderedInSidebar:!0},i,{enableAlpha:a||!1}));return React.createElement(u.InspectorControls,{group:"color"},c)}));function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R.apply(null,arguments)}const j=function(e){var t=e.attributes,r=e.setAttributes,n=t.overlayColor;return React.createElement(o.Fragment,null,React.createElement(u.InspectorControls,{group:"styles"},React.createElement(C,R({},e,{label:(0,a.__)("Overlay Color","tripzzy"),value:n,onChange:function(e){r({overlayColor:e})},enableAlpha:!0}))))};function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(null,arguments)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,l,i=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var U=wp.i18n.__,B=new Set;var q=l.UU,N=l.Kk,M=l.uK,F=l.DD,H=l.h_;(0,n.registerBlockType)(q,{title:F,icon:React.createElement(o.RawHTML,null,N),attributes:M,description:H,edit:function(e){var t=T((0,o.useState)(!0),2),r=t[0],n=t[1],l=T((0,o.useState)([]),2),i=l[0],p=l[1],y=function(){n(!0);var t=e.attributes.query,r="/wp/v2/"+t.taxonomy+"?per_page="+t.numberOfItems+"&orderby="+t.orderBy+"&order="+t.order;c()({path:r}).then((function(e){"object"===A(e)&&(e=Object.values(e)),p(e),n(!1)})).catch((function(e){console.error(e)}))};(0,o.useEffect)((function(){n(!1),y()}),[]),(0,o.useEffect)((function(){y()}),[e.attributes.query]);var m=e.isSelected,f=e.attributes,b=e.setAttributes,d=e.style,h=f.blockId,z=f.textAlign,O=f.gap,w=f.itemHeight,_=f.showCount,E=f.showOverlay,C=f.showShineOverlay,R=f.overlayColor,P=f.titlePosition,k=f.col,D=(0,u.useBlockProps)({className:"tripzzy-admin-block tripzzy-trip-taxonomies-block ".concat(r?"is-loading":""," tripzzy-title-position-").concat(P," ").concat(z?"has-text-align-"+z:""),style:I(I({},d),{},{"--tripzzy-category-image-height":null!=w?w:"500px","--tripzzy-category-grid-template-column":k,"--tripzzy-category-grid-gap":O,"--tripzzy-category-image-overlay":E&&R?R:"transparent"})});return(0,o.useEffect)((function(){!h||B.has(h)?(b({blockId:g()}),B.add(g())):B.add(h)}),[]),React.createElement(o.Fragment,null,m&&React.createElement(v,x({},e,{BlockSettings:S,BlockStyles:j})),React.createElement(u.BlockControls,null,React.createElement(u.AlignmentControl,{value:z,onChange:function(e){b({textAlign:e})}})),React.createElement("div",D,r&&React.createElement(s.Spinner,{style:{height:"25px",width:"25px"}}),React.createElement("div",{className:"tripzzy-trip-categories"},React.createElement("div",{className:"tz-row tripzzy-trip-category-listings"},i.length>0?React.createElement(React.Fragment,null,i.map((function(e){var t=e.meta.tripzzy_taxonomy_image_url,r="".concat(tripzzy.plugin_url,"/assets/images/thumbnail.jpg");return t&&(r=t),React.createElement("div",{className:"tz-col",key:e.id},React.createElement("div",{className:"tripzzy-trip-category ".concat(C&&"tz-shine-overlay")},React.createElement("div",{className:"tripzzy-trip-category-img"},React.createElement("img",{src:r,alt:e.name})),React.createElement("h3",{className:"tripzzy-trip-category-title"},React.createElement("a",{href:e.link,onClick:function(e){return e.preventDefault()}},e.name,_&&React.createElement("span",{className:"tripzzy-trip-category-count"},(0,a.sprintf)((0,a._n)("%d trip","%d trips",e.count,"tripzzy"),e.count))))))}))):React.createElement(React.Fragment,null,React.createElement("div",{className:"tz-col"},React.createElement("p",null,U("Category/term not found!!","tripzzy"))))))))},save:function(e){var t=e.attributes,r=t.css,n=t.id,o=function(e){if(r)return(e=(e=e.replace(/\s+/g," ")).replace(/\/\*[\s\S]*?\*\//g,"")).replace(/ ?([:;,{}]) ?/g,"$1")}(r);return React.createElement(React.Fragment,null,o?React.createElement("style",{type:"text/css",id:"tripzzy-block-css-".concat(n)},o):"")}})}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,o,a)=>{if(!r){var l=1/0;for(s=0;s<e.length;s++){for(var[r,o,a]=e[s],i=!0,c=0;c<r.length;c++)(!1&a||l>=a)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(i=!1,a<l&&(l=a));if(i){e.splice(s--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[r,o,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={83:0,227:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[l,i,c]=r,u=0;if(l.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(c)var s=c(n)}for(t&&t(r);u<l.length;u++)a=l[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(s)},r=globalThis.webpackChunktripzzy=globalThis.webpackChunktripzzy||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[227],(()=>n(310)));o=n.O(o)})();