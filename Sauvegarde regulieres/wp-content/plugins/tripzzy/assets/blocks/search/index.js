(()=>{"use strict";var e,t={756:(e,t,r)=>{const n=window.wp.blocks,o=window.wp.element,a=window.wp.i18n,l=JSON.parse('{"UU":"tripzzy/search","DD":"Tripzzy Search","Kk":"<svg xmlns=\'http://www.w3.org/2000/svg\' fill=\'none\' viewBox=\'0 0 24 24\'><path fill=\'#3EB368\' fill-rule=\'evenodd\' d=\'M4 11a7 7 0 1 1 14 0 7 7 0 0 1-14 0Zm7-9a9 9 0 1 0 5.617 16.032l3.675 3.675a1 1 0 0 0 1.414-1.414l-3.674-3.675A9 9 0 0 0 11 2Z\' clip-rule=\'evenodd\'/></svg>","h_":"Search trips according to the provided search fields.","uK":{"blockId":{"type":"string","default":""},"fields":{"type":"array","default":[]},"layout":{"type":"string","default":"row"},"gap":{"type":"string","default":"0"},"buttonColor":{"type":"string"},"buttonColorHover":{"type":"string"},"buttonBackgroundColor":{"type":"string"},"buttonBackgroundColorHover":{"type":"string"},"searchText":{"type":"string","default":"Search"}}}'),c=window.wp.apiFetch;var i=r.n(c);const u=window.wp.blockEditor,s=window.wp.components,p=(0,o.forwardRef)((function({icon:e,size:t=24,...r},n){return(0,o.cloneElement)(e,{width:t,height:t,...r,ref:n})})),f=window.wp.primitives,d=window.ReactJSXRuntime,m=(0,d.jsx)(f.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)(f.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),b=(0,d.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(f.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})}),y=(0,d.jsx)(f.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)(f.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),h=(0,d.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(f.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})}),v={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let g;const w=new Uint8Array(16);function z(){if(!g&&(g="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!g))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(w)}const R=[];for(let e=0;e<256;++e)R.push((e+256).toString(16).slice(1));const E=function(e,t,r){if(v.randomUUID&&!t&&!e)return v.randomUUID();const n=(e=e||{}).random||(e.rng||z)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return R[e[t+0]]+R[e[t+1]]+R[e[t+2]]+R[e[t+3]]+"-"+R[e[t+4]]+R[e[t+5]]+"-"+R[e[t+6]]+R[e[t+7]]+"-"+R[e[t+8]]+R[e[t+9]]+"-"+R[e[t+10]]+R[e[t+11]]+R[e[t+12]]+R[e[t+13]]+R[e[t+14]]+R[e[t+15]]}(n)},C=(0,d.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(f.Path,{d:"M5 5v1.5h14V5H5zm0 7.8h14v-1.5H5v1.5zM5 19h14v-1.5H5V19z"})}),x=(0,d.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(f.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})}),S=function(e){var t=e.attributes,r=e.setAttributes,n=t.layout;return React.createElement(o.Fragment,null,React.createElement(u.BlockControls,null,React.createElement(s.ToolbarGroup,null,React.createElement(s.ToolbarButton,{icon:C,className:"column"===n?"is-pressed":"",label:(0,a.__)("Display as Column","tripzzy"),onClick:function(){return r({layout:"column"})}}),React.createElement(s.ToolbarButton,{icon:x,className:"row"===n?"is-pressed":"",label:(0,a.__)("Display as Row","tripzzy"),onClick:function(){return r({layout:"row"})}}))))},j=function(e){var t=e||{},r=t.attributes,n=t.setAttributes,a=t.BlockStyles,l=t.BlockSettings;return React.createElement(o.Fragment,null,l&&React.createElement(l,{attributes:r,setAttributes:n}),a&&React.createElement(a,e))};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const k=function(e){var t=e.attributes,r=e.setAttributes,n=t.gap,l=t.fields,c=t.searchText;return React.createElement(o.Fragment,null,React.createElement(u.InspectorControls,{group:"settings"},React.createElement(s.PanelBody,{title:(0,a.__)("Trip Search Options")},l.map((function(e,t){if("hidden"===e.type)return null;var n=e.enabled;return React.createElement(s.ToggleControl,{key:e.name,label:(0,a.__)("Show")+" ".concat(e.label),checked:n,onChange:function(){var e,o=function(e){if(Array.isArray(e))return O(e)}(e=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();o[t].enabled=!n,r({fields:o})}})}))),React.createElement(s.PanelBody,{title:(0,a.__)("Display Settings")},React.createElement(s.__experimentalUnitControl,{min:"0",step:"1",label:(0,a.__)("Input Gap","tripzzy"),labelPosition:"top",onChange:function(e){r({gap:e})},value:n,units:{px:"px"}}),React.createElement(s.TextControl,{label:(0,a.__)("Button Text","text"),value:c,onChange:function(e){return r({searchText:e})}}))))};function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(null,arguments)}wp.i18n.__;const B=(0,u.withColors)({tzPaletteColor:"tz-palette-color"})((function(e){var t=e.label,r=e.value,n=e.setTzPaletteColor,o=e.clientId,a=e.enableAlpha,l=e.onChange,c=(e.className,(0,u.__experimentalUseMultipleOriginColorsAndGradients)()),i=React.createElement(u.__experimentalColorGradientSettingsDropdown,_({settings:[{label:null!=t?t:"",colorValue:r||null,onColorChange:function(e){n(e),l(e)},resetAllFilter:function(e){n(null),l(null)}}],panelId:o,hasColorsOrGradients:!0,disableCustomColors:!1,__experimentalIsRenderedInSidebar:!0},c,{enableAlpha:a||!1}));return React.createElement(u.InspectorControls,{group:"color"},i)}));function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(null,arguments)}const P=function(e){var t=e.attributes,r=e.setAttributes,n=t.buttonColor,l=t.buttonColorHover,c=t.buttonBackgroundColor,i=t.buttonBackgroundColorHover;return React.createElement(o.Fragment,null,React.createElement(u.InspectorControls,{group:"styles"},React.createElement(B,A({},e,{label:(0,a.__)("Button Color","tripzzy"),value:n,onChange:function(e){r({buttonColor:e})}})),React.createElement(B,A({},e,{label:(0,a.__)("Button Color Hover","tripzzy"),value:l,onChange:function(e){r({buttonColorHover:e})}})),React.createElement(B,A({},e,{label:(0,a.__)("Button Background Color","tripzzy"),value:c,onChange:function(e){r({buttonBackgroundColor:e})}})),React.createElement(B,A({},e,{label:(0,a.__)("Button Background Color Hover","tripzzy"),value:i,onChange:function(e){r({buttonBackgroundColorHover:e})}}))))};function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(null,arguments)}function T(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=H(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==H(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,l,c=[],i=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return G(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var F=wp.i18n.__,L=new Set;var K=l.UU,$=l.Kk,J=l.uK,Z=l.DD,X=l.h_;(0,n.registerBlockType)(K,{title:Z,icon:React.createElement(o.RawHTML,null,$),attributes:J,description:X,edit:function(e){var t=e.attributes,r=e.setAttributes,n=e.isSelected,a=e.style,l=M((0,o.useState)(null),2),c=l[0],f=l[1],d=M((0,o.useState)(!1),2),v=d[0],g=d[1],w=t.blockId,z=t.fields,R=t.layout,C=t.fontSize,x=t.gap,O=t.buttonColor,_=t.buttonColorHover,B=t.buttonBackgroundColor,A=t.buttonBackgroundColorHover,U=t.searchText,N=(t.style||{}).typography,V=N?N.fontSize:"13px";(0,o.useEffect)((function(){z.length||(g(!0),i()({path:"/tripzzy-search-form/v1/get_fields"}).then((function(e){"object"===H(e)&&(e=Object.values(e)),r({fields:e}),g(!1)})).catch((function(e){console.error(e)})))}),[z.length]),(0,o.useEffect)((function(){!w||L.has(w)?(r({blockId:E()}),L.add(E())):L.add(w)}),[]);var G=function(e,t,r){if("object"===H(e)){if(r>=Object.keys(e).length)for(var n=r-Object.keys(e).length+1;n--;)e.push(void 0);e.splice(r,0,e.splice(t,1)[0])}if("array"==typeof e){if(r>=e.length)for(n=r-e.length+1;n--;)e.push(void 0);e.splice(r,0,e.splice(t,1)[0])}return e},K=function(e,t){var n=z.map((function(e){return D({},e)})),o=n.findIndex((function(t){return t.name===e.name}));-1!==o&&("text"===e.type?n[o].label=t:n[o].placeholder=t,n=[].concat(T(n),T(z.filter((function(e){return"hidden"===e.type||!e.enabled})))),r({fields:n}))},$=z&&z.length?z.filter((function(e){return"hidden"!==e.type&&e.enabled})):[],J=z&&z.length?z.filter((function(e){return"hidden"===e.type||!e.enabled})):[],Z=C?"var(--wp--preset--font-size--".concat(C,")"):V,X=C?"calc( ( 50% - ( var(--wp--preset--font-size--".concat(C,") / 2 ) ) - 4px )"):"calc( (50% - (".concat(V," / 2) ) - 4px )"),q=(0,u.useBlockProps)({className:"tripzzy-admin-block tripzzy-trip-search-block ".concat("column"===R?"column-view":""," ").concat(v?"is-loading":""),style:D(D({},a),{},{"--tripzzy-search-font-size":Z,"--tripzzy-search-icon-position-top":X,"--tripzzy-search-field-gap":x,"--tripzzy-search-button-color":O,"--tripzzy-search-button-color-hover":_,"--tripzzy-search-button-background":B,"--tripzzy-search-button-background-hover":A})});return React.createElement(o.Fragment,null,n&&React.createElement(j,I({},e,{BlockSettings:k,BlockStyles:P})),n&&React.createElement(S,e),React.createElement("div",q,v&&React.createElement(s.Spinner,{style:{height:"25px",width:"25px"}}),React.createElement("div",{className:"tripzzy-trip-search"},React.createElement("div",{className:"container"},React.createElement("form",null,React.createElement("div",{className:"tripzzy-advanced-search-form"},$.map((function(e,t){var n=e.before_field?"has-before-field":"";return React.createElement("div",{key:e.name,className:"tripzzy-form-field ".concat(e.type," ").concat(n)},e.name===c&&React.createElement("div",{role:"group",className:"tripzzy-swip-items"},React.createElement(s.Button,{className:"has-icon",disabled:0===t,onClick:function(){var e=G($,t,t-1);e=[].concat(T(e),T(J)),r({fields:e})}},React.createElement(p,{icon:"column"===R?m:b})),React.createElement(s.Button,{className:"has-icon",disabled:t>=$.length-1,onClick:function(){var e=G($,t,t+1);e=[].concat(T(e),T(J)),r({fields:e})}},React.createElement(p,{icon:"column"===R?y:h}))),"text"===e.type?React.createElement(React.Fragment,null,e.before_field&&React.createElement("span",{className:"search-form-before-field"},React.createElement(o.RawHTML,null,e.before_field)),React.createElement(s.TextControl,{className:"tripzzy-base-control",value:e.label,onClick:function(){return f(e.name)},placeholder:e.placeholder,onChange:function(t){return K(e,t)}})):React.createElement(React.Fragment,null,e.before_field&&React.createElement("span",{className:"search-form-before-field"},React.createElement(o.RawHTML,null,e.before_field)),React.createElement(s.TextControl,{className:"tripzzy-base-control",value:e.placeholder,onClick:function(){return f(e.name)},onChange:function(t){return K(e,t)}})))})),React.createElement(s.Button,{onClick:function(){},className:"tz-btn tz-btn-solid tz-submit"},U||F("Search","tripzzy"))))))))},save:function(e){var t=e.attributes,r=t.css,n=t.id,o=function(e){if(r)return(e=(e=e.replace(/\s+/g," ")).replace(/\/\*[\s\S]*?\*\//g,"")).replace(/ ?([:;,{}]) ?/g,"$1")}(r);return React.createElement(React.Fragment,null,o?React.createElement("style",{type:"text/css",id:"tripzzy-block-css-".concat(n)},o):"")}})}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,o,a)=>{if(!r){var l=1/0;for(s=0;s<e.length;s++){for(var[r,o,a]=e[s],c=!0,i=0;i<r.length;i++)(!1&a||l>=a)&&Object.keys(n.O).every((e=>n.O[e](r[i])))?r.splice(i--,1):(c=!1,a<l&&(l=a));if(c){e.splice(s--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[r,o,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={842:0,326:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[l,c,i]=r,u=0;if(l.some((t=>0!==e[t]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(i)var s=i(n)}for(t&&t(r);u<l.length;u++)a=l[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(s)},r=globalThis.webpackChunktripzzy=globalThis.webpackChunktripzzy||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[326],(()=>n(756)));o=n.O(o)})();